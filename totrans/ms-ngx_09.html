<html><head></head><body><div class="appendix" title="Appendix&#xA0;A.&#xA0;Directive Reference"><div class="titlepage"><div><div><h1 class="title"><a id="appA"/>Appendix A. Directive Reference</h1></div></div></div><p>This appendix lists the configuration directives used throughout the book. There are also some directives that did not appear in the book, but are listed here for completeness. The entries have been expanded to show under which context each directive may be used. If a directive has a default value, it has been listed as well. These directives are current as of NGINX Version 1.3.9. The most<a id="id1203" class="indexterm"/> up-to-date list can be found at <a class="ulink" href="http://nginx.org/en/docs/dirindex.html">http://nginx.org/en/docs/dirindex.html</a>.</p><div class="section" title="Table: Directive reference"><div class="titlepage"><div><div><h1 class="title"><a id="ch08lvl6sec43"/>Table: Directive reference</h1></div></div></div><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Directive</p>
</th><th style="text-align: left" valign="bottom">
<p>Explanation</p>
</th><th style="text-align: left" valign="bottom">
<p>Context/Default</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">accept_mutex</code>
<a id="id1204" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Serializes the <code class="literal">accept()</code> method on new connections by worker processes.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">events</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">accept_mutex_delay</code>
<a id="id1205" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum time a worker process will wait to accept new connections if another worker is already doing this.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">events</code>
</p>
<p>Default value: <code class="literal">500ms</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">access_log</code>
<a id="id1206" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Describes where and how access logs are to be written. The first parameter is a path to the file where the logs are to be stored. Variables may be used in constructing the path. The special value <code class="literal">off</code> disables the access log. An optional second parameter indicates the <code class="literal">log_format</code> that will be used to write the logs. If no second parameter is configured, the predefined combined format is used. An optional third parameter indicates the size of the buffer if write buffering should be used to record the logs. If write buffering is used, this size cannot exceed the size of the atomic disk write for that filesystem.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>, <code class="literal">limit_except</code>
</p>
<p>Default value<code class="literal">: logs</code>/<code class="literal">access.log combined</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">add_after_body</code>
<a id="id1207" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Adds the result of processing a subrequest after the response body.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">add_before_body</code>
<a id="id1208" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Adds the result of processing a subrequest before the response body.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">add_header</code>
<a id="id1209" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Adds fields to a header present in responses with the HTTP codes 200, 204, 206, 301, 302, 303, 304, or 307.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">addition_types</code>
<a id="id1210" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Lists the MIME types of a response in addition to <code class="literal">text/html</code>, in which an addition will be made. May be <code class="literal">*</code> to enable all MIME types.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">text/html</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">aio</code>
<a id="id1211" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This directive enables the use of asynchronous file I/O. It is available on all modern versions of FreeBSD and distributions of Linux. On FreeBSD, <code class="literal">aio</code> may be used to preload data for <code class="literal">sendfile</code>. Under Linux, <code class="literal">directio</code> is required, which automatically disables <code class="literal">sendfile</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">alias</code>
<a id="id1212" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines another name for the <code class="literal">location</code>, as found on the filesystem. If the location is specified with a regular expression, the alias should reference captures defined in that regular expression.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">allow</code>
<a id="id1213" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Allows access from this IP address, network, or <code class="literal">all</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">limit_except</code>
</p>
<p>Default value: -.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ancient_browser</code>
<a id="id1214" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies one or more strings, which if found in the <code class="literal">User-Agent</code> header, will indicate that the browser is considered ancient by setting the <code class="literal">$ancient_browser</code> variable to the <code class="literal">ancient_browser_value</code> directive.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ancient_browser_value</code>
<a id="id1215" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The value to which the <code class="literal">$ancient_browser</code> variable will be set.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">auth_basic</code>
<a id="id1216" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables authentication using HTTP Basic Authentication. The parameter string is used as the realm name. If the special value <code class="literal">off</code> is used, this indicates that the <code class="literal">auth_basic</code> value of the parent configuration level is negated.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">limit_except</code>
</p>
<p>Default value: <code class="literal">off</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">auth_basic_user_file</code>
<a id="id1217" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates the location of a file of <code class="literal">username:password:comment</code> tuples used to authenticate users. The <code class="literal">password</code> needs to be encrypted with the crypt algorithm. The comment is optional.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">limit_except</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">auth_http</code>
<a id="id1218" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This directive specifies the server used for authenticating the POP3/IMAP user.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">auth_http_header</code>
<a id="id1219" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets an additional header (first parameter) to the specified value (second parameter).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">auth_http_timeout</code>
<a id="id1220" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum amount of time NGINX will wait when communicating with an authentication server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">autoindex</code>
<a id="id1221" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates the automatic generation of a directory listing page.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">autoindex_exact_size</code>
<a id="id1222" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates whether the file sizes in a directory listing page should be listed in bytes or rounded to kilobytes, megabytes, and gigabytes.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>.</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">autoindex_localtime</code>
<a id="id1223" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the file modification time in a directory listing page to either local time (<code class="literal">on</code>) or UTC (<code class="literal">off</code>).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">break</code>
<a id="id1224" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Ends the processing of the <code class="literal">rewrite</code> module directives found within the same context.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">charset</code>
<a id="id1225" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Adds the character set specified to the <code class="literal">Content-Type</code> response header. If this is different than the <code class="literal">source_charset</code> directive, a conversion is performed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">charset_map</code>
<a id="id1226" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets up a conversion table from one character set to another. Each character code is specified in hexadecimal. The files <code class="literal">conf/koi-win</code>, <code class="literal">conf/koi-utf</code>, and <code class="literal">conf/win-utf</code> include mappings from <code class="literal">koi8-r</code> to <code class="literal">windows-1251</code>, from <code class="literal">koi8-r</code> to <code class="literal">utf-8</code>, and from <code class="literal">windows-1251</code> to <code class="literal">utf-8</code>, respectively.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">charset_types</code>
<a id="id1227" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Lists the MIME types of a response in addition to <code class="literal">text/html</code>, in which a character set conversion will be made. It may be <code class="literal">*</code> to enable all MIME types.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">text/html</code>, <code class="literal">text/xml</code>, <code class="literal">text/plain</code>, <code class="literal">text/vnd.wap.wml</code>, <code class="literal">application/x-javascript</code>, <code class="literal">application/rss+xml</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">chunked_transfer_encoding</code>
<a id="id1228" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Allows disabling the standard HTTP/1.1 chunked transfer encoding in responses to the clients.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">client_body_buffer_size</code>
<a id="id1229" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Used to set a buffer size for the client request body larger than the default two memory pages, in order to prevent temporary files from being written to disk.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">8k|16k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">client_body_in_file_only</code>
<a id="id1230" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Used for debugging or further processing of the client request body, this directive can be set to <code class="literal">on</code> to force saving the client request body to a file. The value <code class="literal">clean</code> will cause the files to be removed after the request processing is finished.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">client_body_in_single_buffer</code>
<a id="id1231" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This directive will force NGINX to save the entire client request body in a single buffer, to reduce copy operations.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">client_body_temp_path</code>
<a id="id1232" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a directory path for saving the client request body. If a second, third, or fourth parameter is given, these specify a subdirectory hierarchy with the parameter value as the number of characters in the subdirectory name.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">client_body_temp</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">client_body_timeout</code>
<a id="id1233" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the length of time between successive read operations of the client body. If reached, the client receives a 408 error message (<code class="literal">Request Timeout</code>).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">client_header_buffer_size</code>
<a id="id1234" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Used for specifying a buffer size for the client request header, when this needs to be larger than the default 1 KB.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">1k</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">client_header_timeout</code>
<a id="id1235" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the length of time for reading the entire client header.  If reached, the client receives a 408 error message (<code class="literal">Request Timeout</code>).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">client_max_body_size</code>
<a id="id1236" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines the largest allowable client request body, before a 413 (<code class="literal">Request Entity Too Large</code>) error is returned to the browser.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1m</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">connection_pool_size</code>
<a id="id1237" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Fine tunes per-connection memory allocation.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">256</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">create_full_put_path</code>
<a id="id1238" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Allows recursive directory creation when using WebDAV.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">daemon</code>
<a id="id1239" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets whether or not to daemonize the <code class="literal">nginx</code> process.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">dav_access</code>
<a id="id1240" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets filesystem access permissions for newly-created files and directories. If <code class="literal">group</code> or <code class="literal">all</code> is specified, <code class="literal">user</code> may be omitted.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">user:rw</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">dav_methods</code>
<a id="id1241" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Allows the specified HTTP and WebDAV methods. When <code class="literal">PUT</code> is used, a temporary file is first created and then renamed. So, it's recommended to put <code class="literal">client_body_temp_path</code> on the same filesystem as the destination. A modification date for such files may be specified in the <code class="literal">Date</code> header.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">debug_connection</code>
<a id="id1242" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables debug logging for any client matching the value of this directive. It may be specified multiple times. To debug UNIX-domain sockets, use <code class="literal">unix:</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">events</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">debug_points</code>
<a id="id1243" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>When debugging, the process will either create a core file (<code class="literal">abort</code>) or stop (<code class="literal">stop</code>) so that a system debugger may be attached.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">default_type</code>
<a id="id1244" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the default MIME type of a response. This comes into play if the MIME type of the file cannot be matched to one of those specified by the <code class="literal">types</code> directive.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">text/plain</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">deny</code>
<a id="id1245" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Denies access from this IP address, network, or <code class="literal">all</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">limit_except</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">directio</code>
<a id="id1246" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables the operating system-specific flag or function for serving files larger than the parameter given. Required when using <code class="literal">aio</code> on Linux.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">directio_alignment</code>
<a id="id1247" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the alignment for <code class="literal">directio</code>. The default of <code class="literal">512</code> is usually enough, although it's recommended to increase this to <code class="literal">4K</code> when using XFS on Linux.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">512</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">disable_symlinks</code>
<a id="id1248" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>HTTP file path directives</em></span> table in the <span class="emphasis"><em>Finding files</em></span> section in <a class="link" href="ch06.html" title="Chapter 6. The NGINX HTTP Server">Chapter 6</a>, <span class="emphasis"><em>The NGINX HTTP Server</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">empty_gif</code>
<a id="id1249" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Causes a 1x1 pixel transparent GIF to be emitted for that <code class="literal">location</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">env</code>
<a id="id1250" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets environment variables for use in:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">inheritance during a live upgrade</li><li class="listitem" style="list-style-type: disc">making use of them in the <code class="literal">perl</code> module</li><li class="listitem" style="list-style-type: disc">making them available to worker processes</li></ul></div>
<p>Specifying the variable alone will use the value found in the <code class="literal">nginx</code> environment. Setting a variable may be done in the form <code class="literal">var=value</code>.</p>
<p>N.B. NGINX is an internal variable and shouldn't be set by the user.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">TZ</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">error_log</code>
<a id="id1251" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The <code class="literal">error_log</code> file is where all errors will be written. It may be set to a file or <code class="literal">stderr</code>. If no other <code class="literal">error_log</code> is given in a separate context, this log file will be used for all errors, globally. A second parameter to this directive indicates at which level (<code class="literal">debug</code>, <code class="literal">info</code>, <code class="literal">notice</code>, <code class="literal">warn</code>, <code class="literal">error</code>, <code class="literal">crit</code>, <code class="literal">alert</code>, <code class="literal">emerg</code>) errors will be written to the log. Note that <code class="literal">debug</code> level errors are only available if the <code class="literal">--with-debug</code> configuration switch was given at compile time.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">main</code>, <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">logs/error.log error</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">error_page</code>
<a id="id1252" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a URI to be served when an error level response code is encountered. Adding an <code class="literal">=</code> parameter allows the response code to be changed. If the argument to this parameter is left empty, the response code will be taken from the URI, which must in this case be served by an upstream server of some sort.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">etag</code>
<a id="id1253" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Disables automatically generating the <code class="literal">ETag</code> response header for static resources.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">events</code>
<a id="id1254" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a new context in which connection-processing directives are specified.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>.</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">expires</code>
<a id="id1255" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>Header modifying directives</em></span> table in the <span class="emphasis"><em>Caching in the filesystem</em></span> section in <a class="link" href="ch07.html" title="Chapter 7. NGINX for the Developer">Chapter 7</a>, <span class="emphasis"><em>NGINX for the Developer</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_bind</code>
<a id="id1256" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies which address should be used for the outgoing connections to a FastCGI server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_buffer_size</code>
<a id="id1257" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The size of the buffer used for the first part of the response from the FastCGI server, in which the response headers are found.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">4k|8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_buffers</code>
<a id="id1258" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The number and size of buffers used for the response from a FastCGI server, for a single connection.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">4k</code>|<code class="literal">8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_busy_buffers_size</code>
<a id="id1259" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The total size of the buffer space allocated to sending the response to the client while still being read from the FastCGI server. This is typically set to two <code class="literal">fastcgi_buffers</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>default value: <code class="literal">4k|8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache</code>
<a id="id1260" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a shared memory zone to be used for caching.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache_bypass</code>
<a id="id1261" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>One or more string variables, which when non-empty or non-zero, will cause the response to be taken from the FastCGI server instead of the cache.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache_key</code>
<a id="id1262" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A string used as the key for storing and retrieving cache values.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache_lock</code>
<a id="id1263" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enabling this directive will prevent multiple requests from making an entry into the same cache key.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache_lock_timeout</code>
<a id="id1264" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The length of time a request will wait for an entry to appear in the cache or for the <code class="literal">fastcgi_cache_lock</code> to be released.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">5s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache_min_uses</code>
<a id="id1265" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The number of requests for a certain key needed before a response is cached.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache_path</code>
<a id="id1266" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>FastCGI directives</em></span> table in the <span class="emphasis"><em>Using NGINX with PHP-FPM</em></span> section in <a class="link" href="ch06.html" title="Chapter 6. The NGINX HTTP Server">Chapter 6</a>, <span class="emphasis"><em>The NGINX HTTP Server</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache_use_stale</code>
<a id="id1267" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The cases under which it is acceptable to serve stale cached data when an error occurs while accessing the FastCGI server. The <code class="literal">updating</code> parameter indicates the case when fresh data are being loaded.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_cache_valid</code>
<a id="id1268" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates the length of time for which a cached response with response code 200, 301, or 302 is valid. If an optional response code is given before the time parameter, that time is only for that response code. The special parameter <code class="literal">any</code> indicates that any response code should be cached for that length of time.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_connect_timeout</code>
<a id="id1269" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum amount of time NGINX will wait for its connection to be accepted when making a request to a FastCGI server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_hide_header</code>
<a id="id1270" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A list of header fields that should not be passed on to the client.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_ignore_client_abort</code>
<a id="id1271" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>If set to <code class="literal">on</code>, NGINX will not abort the connection to a FastCGI server if the client aborts the connection.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_ignore_headers</code>
<a id="id1272" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets which headers may be disregarded when processing the response from the FastCGI server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_index</code>
<a id="id1273" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the name of a file to be appended to <code class="literal">$fastcgi_script_name</code> that ends with a slash.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_intercept_errors</code>
<a id="id1274" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>If enabled, NGINX will display a configured <code class="literal">error_page</code> directive instead of the response directly from the FastCGI server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_keep_conn</code>
<a id="id1275" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables the <code class="literal">keepalive</code> connections to the FastCGI servers by instructing the server not to immediately close the connection.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_max_temp_file_size</code>
<a id="id1276" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum size of the overflow file, written when the response doesn't fit into the memory buffers.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1024m</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_next_upstream</code>
<a id="id1277" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>FastCGI directives</em></span> table in the <span class="emphasis"><em>Using NGINX with PHP-FPM</em></span> section in <a class="link" href="ch06.html" title="Chapter 6. The NGINX HTTP Server">Chapter 6</a>, <span class="emphasis"><em>The NGINX HTTP Server</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: error timeout</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_no_cache</code>
<a id="id1278" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>One or more string variables, which when non-empty or non-zero will instruct NGINX not to save the response from the FastCGI server in the cache.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_param</code>
<a id="id1279" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets a parameter and its value to be passed to the FastCGI server. If the parameter should only be passed when the value is non-empty, the additional <code class="literal">if_not_empty</code> parameter should be set.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_pass</code>
<a id="id1280" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the FastCGI server to which the request is passed, either as an <code class="literal">address:port</code> combination or as <code class="literal">unix:path</code> for a UNIX-domain socket.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_pass_header</code>
<a id="id1281" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Overrides the disabled headers set in <code class="literal">fastcgi_hide_header</code>, allowing them to be sent to the client.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_read_timeout</code>
<a id="id1282" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the length of time that needs to elapse between two successive read operations from a FastCGI server before the connection is closed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_send_lowat</code>
<a id="id1283" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This is a FreeBSD directive. When non-zero, it will tell NGINX to use either the <code class="literal">NOTE_LOWAT</code> kqueue method or the <code class="literal">SO_SNDLOWAT</code> socket option with the specified size when communicating with an upstream server. Ignored in Linux, Solaris, and Windows.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_send_timeout</code>
<a id="id1284" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The length of time that needs to elapse between two successive write operations to a FastCGI server before the connection is closed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_split_path_info</code>
<a id="id1285" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a regular expression with two captures. The first capture will be the value of the <code class="literal">$fastcgi_script_name</code> variable. The second capture becomes the value of the <code class="literal">$fastcgi_path_info</code> variable.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_store</code>
<a id="id1286" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables storing responses retrieved from a FastCGI server as files on the disk. The <code class="literal">on</code> parameter will use the <code class="literal">alias</code> or <code class="literal">root</code> directive as the base path under which to store the file. A string may instead be given, to indicate an alternative location to store the files.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_store_access</code>
<a id="id1287" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets file access permissions for the newly-created <code class="literal">fastcgi_store</code> files.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">user:rw</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_temp_file_write_size</code>
<a id="id1288" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Limits the amount of data buffered to a temporary file at one time, so that NGINX will not be blocked for too long on a single request.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">8k|16k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">fastcgi_temp_path</code>
<a id="id1289" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A directory where temporary files may be buffered as they are proxied from the FastCGI server, optionally multilevel deep. If a second, third, or fourth parameter is given, these specify a subdirectory heirarchy with the parameter value as the number of characters in the subdirectory name.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">fastcgi_temp</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">flv</code>
<a id="id1290" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates the <code class="literal">flv</code> module for this <code class="literal">location</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">geo</code>
<a id="id1291" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a new context, in which a variable is set to a specified value, dependent on the IP address found in another variable. If no other variable is specified, <code class="literal">$remote_addr</code> is used to determine the IP address. The format of the context definition is:</p>
<div class="informalexample"><pre class="programlisting">geo [$address-variable] $variable-to-be-set { … }</pre></div>
<p>The following parameters are recognized within the context:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">delete</code>: Deletes the specified network</li><li class="listitem" style="list-style-type: disc"><code class="literal">default</code>: The variable will be set to this value if no IP address matches</li><li class="listitem" style="list-style-type: disc"><code class="literal">include</code>: Includes a file of address-to-value mappings</li><li class="listitem" style="list-style-type: disc"><code class="literal">proxy</code>: Defines an address or network of a direct connection from which the IP address will be taken from the <code class="literal">X-Forwarded-For</code> header</li><li class="listitem" style="list-style-type: disc"><code class="literal">proxy_recursive</code>: Works with <code class="literal">proxy</code> to specify that the last address in a multi-valued <code class="literal">X-Forwarded-For</code> header will be used</li><li class="listitem" style="list-style-type: disc"><code class="literal">ranges</code>: When defined, indicates that the following addresses are specified as ranges</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">geoip_city</code>
<a id="id1292" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to a GeoIP database file containing IP address-to-city mappings. The following variables then become available:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_city_country_code</code>: Two-letter country code</li><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_city_country_code3</code>: Three-letter country code</li><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_city_country_name</code>: Country name</li><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_region</code>: Country region name</li><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_city</code>: City name</li><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_postal_code</code>: Postal code</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">geoip_country</code>
<a id="id1293" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to a GeoIP database file containing the IP address-to-country mappings. The following variables then become available:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_country_code</code>: Two-letter country code</li><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_country_code3</code>: Three-letter country code</li><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_country_name</code>: Country name</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">geoip_org</code>
<a id="id1294" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to a GeoIP database file containing the IP address-to-organization mappings. The following variable then becomes available:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">$geoip_org</code>: Organization name</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>.</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">geoip_proxy</code>
<a id="id1295" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines an address or network of a direct connection from which the IP address will be taken from the <code class="literal">X-Forwarded-For</code> header.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">geoip_proxy_recursive</code>
<a id="id1296" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Works with <code class="literal">geoip_proxy</code>, to specify that the last address in a multivalued <code class="literal">X-Forwarded-For</code> header will be used.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: <code class="literal">off</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gunzip</code>
<a id="id1297" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables the decompression of gzipped files when the client doesn't support gzip.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gunzip buffers</code>
<a id="id1298" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the number and size of buffers used for decompressing a response.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">32 4k|16 8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip</code>
<a id="id1299" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables or disables the compression of responses.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_buffers</code>
<a id="id1300" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the number and size of buffers used for compressing a response.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">32 4k|16 8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_comp_level</code>
<a id="id1301" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The gzip compression level (1-9).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_disable</code>
<a id="id1302" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A regular expression of <code class="literal">User-Agents</code> that shouldn't receive a compressed response. The special value <code class="literal">msie6</code> is a shortcut for <code class="literal">MSIE [4-6]\.</code>, excluding <code class="literal">MSIE 6.0; ... SV1</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_http_version</code>
<a id="id1303" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The minimum HTTP version of a request before compression is considered.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1.1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_min_length</code>
<a id="id1304" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The minimum length of a response before compression is considered, determined by the <code class="literal">Content-Length</code> header.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">20</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_proxied</code>
<a id="id1305" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>Gzip module directives</em></span> table in the <span class="emphasis"><em>Compressing</em></span> section in <a class="link" href="ch05.html" title="Chapter 5. Reverse Proxy Advanced Topics">Chapter 5</a>, <span class="emphasis"><em>Reverse Proxy Advanced Topics</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_static</code>
<a id="id1306" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables checking for precompressed files, to be delivered directly to clients which support gzip compression.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_types</code>
<a id="id1307" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The MIME types that should be compressed with gzip, in addition to the default <code class="literal">text/html</code>. It may be <code class="literal">*</code> to enable all MIME types.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">text/html</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">gzip_vary</code>
<a id="id1308" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables or disables the response header <code class="literal">Vary: Accept-Encoding</code> if <code class="literal">gzip</code> or <code class="literal">gzip_static</code> is active.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">http</code>
<a id="id1309" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets up a configuration context in which HTTP server directives are specified.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">if</code>
<a id="id1310" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>Rewrite module directives</em></span> table in the <span class="emphasis"><em>Introducing the rewrite module</em></span> section in <a class="link" href="apb.html" title="Appendix B. Rewrite Rule Guide">Appendix B</a>, <span class="emphasis"><em>Rewrite Rule Guide</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">if_modified_since</code>
<a id="id1311" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Controls how the modification time of a response is compared to the value of the <code class="literal">If-Modified-Since</code> request header:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">off</code>: The <code class="literal">If-Modified-Since</code> header is ignored</li><li class="listitem" style="list-style-type: disc"><code class="literal">exact</code>: An exact match is made (default)</li><li class="listitem" style="list-style-type: disc"><code class="literal">before</code>: The modification time of the response is less than or equal to the value of the <code class="literal">If-Modified-Since</code> header</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">exact</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ignore_invalid_headers</code>
<a id="id1312" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Disables ignoring headers with invalid names. A valid name is composed of ASCII letters, numbers, the hyphen, and possibly the underscore (controlled by the <code class="literal">underscores_in_headers</code> directive).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">image_filter</code>
<a id="id1313" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>Image filter directives</em></span> table in the <span class="emphasis"><em>Generating images</em></span> section in <a class="link" href="ch07.html" title="Chapter 7. NGINX for the Developer">Chapter 7</a>, <span class="emphasis"><em>NGINX for the Developer</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">image_filter_buffer</code>
<a id="id1314" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The size of the buffer used to process images. If more memory is needed, the server will return a 415 error (<code class="literal">Unsupported Media Type</code>).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1M</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">image_filter_jpeg_quality</code>
<a id="id1315" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The quality of the resulting JPEG image, after processing. Not recommended to exceed 95.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">75</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">image_filter_sharpen</code>
<a id="id1316" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Increases the sharpness of a processed image by this percentage.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">image_filter_transparency</code>
<a id="id1317" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Disables preserving transparency of transformed GIF and PNG images. The default <code class="literal">on</code> preserves transparency.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">imap_auth</code>
<a id="id1318" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the supported client authentication mechanism. It can be one or more of <code class="literal">login</code>, <code class="literal">plain</code>, or <code class="literal">cram-md5</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">plain</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">imap_capabilities</code>
<a id="id1319" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates which IMAP4 capabilities are supported by the backend server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">IMAP4 IMAP4rev1 UIDPLUS</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">imap_client_buffer</code>
<a id="id1320" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the size of the read buffer for IMAP commands.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">4k|8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">include</code>
<a id="id1321" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to a file containing additional configuration directives. It may be specified as a glob to include multiple files.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">any</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">index</code>
<a id="id1322" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines which file will be served to the client when a URI ending with <code class="literal">/</code> is received. It may be multivalued.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">index.html</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">internal</code>
<a id="id1323" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies a <code class="literal">location</code> that can only be used for internal requests (redirects defined in other directives, rewrite requests, and similar request processing directives).</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ip_hash</code>
<a id="id1324" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Ensures the distribution of clients evenly over all <code class="literal">server</code> by hashing the IP address, keying on its class C network.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">upstream</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">keepalive</code>
<a id="id1325" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The number of connections to upstream servers that are cached per worker process. When used with HTTP connections, <code class="literal">proxy_http_version</code> should be set to <code class="literal">1.1</code> and <code class="literal">proxy_set_header</code> to <code class="literal">Connection</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">upstream</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">keepalive_disable</code>
<a id="id1326" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Disables keep-alive requests for certain browser types.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">msie6</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">keepalive_requests</code>
<a id="id1327" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines how many requests may be made over one <code class="literal">keepalive</code> connection before it is closed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">100</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">keepalive_timeout</code>
<a id="id1328" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies how long a <code class="literal">keep-alive</code> connection will stay open. A second parameter may be given, to set a Keep-Alive header in the response.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">75s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">large_client_header_buffers</code>
<a id="id1329" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines the maximum <code class="literal">number</code> and <code class="literal">size</code> of a large client request header.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">4 8k</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">least_conn</code>
<a id="id1330" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates the load-balancing algorithm where the server with the least number of active connections is chosen for the next new connection.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">upstream</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_conn</code>
<a id="id1331" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies a shared memory zone (configured with <code class="literal">limit_conn_zone</code>) and the maximum number of connections that are allowed per key value.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_conn_log_level</code>
<a id="id1332" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>When NGINX limits a connection due to the <code class="literal">limit_conn</code> directive, this directive specifies at which log level that limitation is reported.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">error</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_conn_zone</code>
<a id="id1333" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the key to be limited in <code class="literal">limit_conn</code> as the first parameter. The second parameter, <code class="literal">zone</code>, indicates the name of the shared memory zone used to store the key and current number of connections per key and the size of that zone (<code class="literal">name:size</code>).</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_except</code>
<a id="id1334" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Will limit a <code class="literal">location</code> to the specified HTTP verb(s) (<code class="literal">GET</code> also includes <code class="literal">HEAD</code>).</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_rate</code>
<a id="id1335" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Limits the rate (in bytes per second) at which clients can download content. The rate limit works on a connection level, meaning that a single client could increase their throughput by opening multiple connections.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_rate_after</code>
<a id="id1336" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Starts the <code class="literal">limit_rate</code> after this number of bytes have been transferred.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_req</code>
<a id="id1337" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets a limit with bursting capability on the number of requests for a specific key in a shared memory store (configured with <code class="literal">limit_req_zone</code>). The burst may be specified with the second parameter. If there shouldn't be a delay in between requests up to the burst, a third parameter <code class="literal">nodelay</code> needs to be configured.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_req_log_level</code>
<a id="id1338" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>When NGINX limits the number of requests due to the <code class="literal">limit_req</code> directive, this directive specifies at which log level that limitation is reported.  A delay is logged at a level one less than the one indicated here.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_req_zone</code>
<a id="id1339" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the key to be limited in <code class="literal">limit_req</code> as the first parameter. The second parameter, <code class="literal">zone</code>, indicates the name of the shared memory zone used to store the key and current number of requests per key and the size of that zone (<code class="literal">name:size</code>). The third parameter, <code class="literal">rate</code>, configures the number of requests per second (r/s) or per minute (r/m) before the limit is imposed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">limit_zone</code>
<a id="id1340" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Deprecated. Use <code class="literal">limit_conn_zone</code> instead.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">lingering_close</code>
<a id="id1341" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This directive specifies how a client connection will be kept open for more data.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">lingering_time</code>
<a id="id1342" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>In connection with the <code class="literal">lingering_close</code> directive, this directive will specify how long a client connection will be kept open for processing more data.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">30s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">lingering_timeout</code>
<a id="id1343" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Also in conjunction with <code class="literal">lingering_close</code>, this directive indicates how long NGINX will wait for additional data before closing the client connection.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>default value: <code class="literal">5s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">listen</code> (http)<a id="id1344" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>listen parameters</em></span> table in the section named <span class="emphasis"><em>The virtual server section</em></span> in <a class="link" href="ch02.html" title="Chapter 2. A Configuration Guide">Chapter 2</a>, <span class="emphasis"><em>A Configuration Guide</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">*:80 | *:8000</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">listen</code> (mail)<a id="id1345" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The <code class="literal">listen</code> directive uniquely identifies a socket binding under NGINX. It takes the following parameter:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">bind</code>: make a separate <code class="literal">bind()</code> call for this <code class="literal">address:port</code> pair.</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">location</code>
<a id="id1346" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a new context based on the request URI.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">lock_file</code>
<a id="id1347" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The prefix name for lock files. Depending on the platform, a lock file may be needed to implement <code class="literal">accept_mutex</code> and shared memory access serialization.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">logs/nginx.lock</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">log_format</code>
<a id="id1348" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies which fields should appear in the log file and what format they should take.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: combined <code class="literal">$remote_addr - $remote_user [$time_local], "$request" $status $body_bytes_sent, "$http_referer""$http_user_agent"'</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">log_not_found</code>
<a id="id1349" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Disables reporting of 404 errors in the error log.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">log_subrequest</code>
<a id="id1350" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables logging of subrequests in the access log.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">mail</code>
<a id="id1351" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets up a configuration context in which mail server directives are specified.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">map</code>
<a id="id1352" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a new context, in which a variable is set to a specified value, dependent on the value of a source variable. The format of the context definition is:</p>
<p>
</p><div class="informalexample"><pre class="programlisting">map $source-variable $variable-to-be-set { … }</pre></div><p>
</p>
<p>The string or strings to be mapped may also be regular expressions. The following parameters are recognized within the context:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">default</code>: Sets a default value for the variable if the value of the source variable didn't match any of the strings or regular expressions specified</li><li class="listitem" style="list-style-type: disc"><code class="literal">hostnames</code>: Indicates that source values may be hostnames with a prefix or suffix glob</li><li class="listitem" style="list-style-type: disc"><code class="literal">include</code>: Includes a file with string-to-value mappings</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">map_hash_bucket_size</code>
<a id="id1353" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The bucket size used to hold the <code class="literal">map</code> hash tables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: <code class="literal">32|64|128</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">map_hash_max_size</code>
<a id="id1354" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum size of the <code class="literal">map</code> hash tables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: <code class="literal">2048</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">master_process</code>
<a id="id1355" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Determines whether or not to start worker processes.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">max_ranges</code>
<a id="id1356" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the maximum number of ranges allowed in a byte-range request. Specifying <code class="literal">0</code> disables byte-range support.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">memcached_bind</code>
<a id="id1357" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies which address should be used for outgoing connections to a memcached server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">memcached_buffer_size</code>
<a id="id1358" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The size of the buffer for the response from memcached. This response is then sent synchronously to the client.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">4k|8k</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">memcached_connect_timeout</code>
<a id="id1359" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum length of time NGINX will wait for its connection to be accepted when making a request to a memcached server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">memcached_gzip_flag</code>
<a id="id1360" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies a value, when found in the response from a memcached server, which will set the <code class="literal">Content-Encoding</code> header to <code class="literal">gzip</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">memcached_next_upstream</code>
<a id="id1361" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>Memcached module directives</em></span> table in the <span class="emphasis"><em>Caching in the database</em></span> section in <a class="link" href="ch07.html" title="Chapter 7. NGINX for the Developer">Chapter 7</a>, <span class="emphasis"><em>NGINX for the Developer</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: error timeout</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">memcached_pass</code>
<a id="id1362" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the name or address of a memcached server and its port. It may also be a <code class="literal">server</code> group, as declared in an <code class="literal">upstream</code> context.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">memcached_read_timeout</code>
<a id="id1363" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the length of time that needs to elapse between two successive read operations from a memcached server before the connection is closed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">memcached_send_timeout</code>
<a id="id1364" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The length of time that needs to elapse between two successive write operations to a memcached server before the connection is closed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">merge_slashes</code>
<a id="id1365" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Disables the removal of multiple slashes. The default value of <code class="literal">on</code> means that NGINX will compress two or more <code class="literal">/</code> characters into one.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">min_delete_depth</code>
<a id="id1366" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Allows the WebDAV <code class="literal">DELETE</code> method to remove files when at least this number of elements is present in the request path.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">modern_browser</code>
<a id="id1367" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies a <code class="literal">browser</code> and <code class="literal">version</code> parameter, which together will indicate that the browser is considered modern by setting the <code class="literal">$modern_browser</code> variable to <code class="literal">modern_browser_value</code>. The <code class="literal">browser</code> parameter may take one of the following values: <code class="literal">msie</code>, <code class="literal">gecko</code>, <code class="literal">opera</code>, <code class="literal">safari</code>, or <code class="literal">konqueror</code>. An alternative parameter <code class="literal">unlisted</code> may be specified to indicate that any browser not found in <code class="literal">ancient_browser</code> nor in <code class="literal">modern_browser</code> or has a missing <code class="literal">User-Agent</code> header is considered modern.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">modern_browser_value</code>
<a id="id1368" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The value to which the <code class="literal">$modern_browser</code> variable will be set.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">mp4</code>
<a id="id1369" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates the <code class="literal">mp4</code> module for this <code class="literal">location</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">mp4_buffer_size</code>
<a id="id1370" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the initial buffer size for delivering MP4 files.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">512K</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">mp4_max_buffer_size</code>
<a id="id1371" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the maximum size of the buffer used to process MP4 metadata.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">10M</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">msie_padding</code>
<a id="id1372" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables the disabling of adding comments to responses with a status greater than 400 for MSIE clients, in order to pad the response size to 512 bytes.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">msie_refresh</code>
<a id="id1373" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This directive enables the sending of a <code class="literal">refresh</code> instead of a <code class="literal">redirect</code> for MSIE clients.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">multi_accept</code>
<a id="id1374" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Instructs a worker process to accept all new connections at once. Disregarded if the <code class="literal">kqueue</code> event method is used because <code class="literal">kqueue</code> reports the number of new connections waiting to be accepted.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">events</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">open_file_cache</code>
<a id="id1375" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Configures a cache that can store open file descriptors, directory lookups, and file lookup errors.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">open_file_cache_errors</code>
<a id="id1376" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables the caching of the file lookup errors by the <code class="literal">open_file_cache</code> directive.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">open_file_cache_min_uses</code>
<a id="id1377" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Configures the minimum number of uses for a file within the <code class="literal">inactive</code> parameter to <code class="literal">open_file_cache</code> for that file descriptor to remain open in the cache.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">open_file_cache_valid</code>
<a id="id1378" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the time interval between the validity checks for the items in the <code class="literal">open_file_cache</code> directive.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">open_log_file_cache</code>
<a id="id1379" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>HTTP logging directives</em></span> table in the <span class="emphasis"><em>Logging</em></span> section in <a class="link" href="ch06.html" title="Chapter 6. The NGINX HTTP Server">Chapter 6</a>, <span class="emphasis"><em>The NGINX HTTP Server</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">optimize_server_names</code>
<a id="id1380" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This is deprecated. Use the <code class="literal">server_name_in_redirect</code> directive instead.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">override_charset</code>
<a id="id1381" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates whether the charset specified in the <code class="literal">Content-Type</code> header of a response received from a <code class="literal">proxy_pass</code> or <code class="literal">fastcgi_pass</code> request should be converted or not. If the response comes as a result of a subrequest, conversion to the main request's charset will always be performed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">pcre_jit</code>
<a id="id1382" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables just-in-time compilation of Perl-compatible regular expressions known at configuration time. JIT support needs to be enabled in the PCRE library to make use of this speedup.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">perl</code>
<a id="id1383" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates a Perl handler for this location. The argument is the name of the handler or a string describing a full subroutine.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">location</code>, <code class="literal">limit_except</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">perl_modules</code>
<a id="id1384" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies an additional search path for Perl modules.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">perl_require</code>
<a id="id1385" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates a Perl module that will be loaded at each NGINX reconfiguration. It may be specified multiple times for separate modules.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">perl_set</code>
<a id="id1386" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Installs a Perl handler to set the value of a variable. The argument is the name of the handler or a string describing a full subroutine.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">pid</code>
<a id="id1387" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This is the file where the process ID of the main process will be written, overwriting the compiled-in default.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">nginx.pid</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">pop3_auth</code>
<a id="id1388" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the supported client authentication mechanism. It can be one or more of <code class="literal">plain</code>, <code class="literal">apop</code>, or <code class="literal">cram-md5</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">plain</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">pop3_capabilities</code>
<a id="id1389" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates which POP3 capabilities are supported by the backend server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">TOP USER UIDL</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">port_in_redirect</code>
<a id="id1390" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Determines whether or not the port will be specified in a <code class="literal">redirect</code> method issued by NGINX.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">postpone_output</code>
<a id="id1391" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the minimum size of data for NGINX to send to the client. If possible, no data will be sent until this value is reached.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1460</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">protocol</code>
<a id="id1392" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates which protocol is supported by this mail server context. It may be one of <code class="literal">imap</code>, <code class="literal">pop3</code>, or <code class="literal">smtp</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy</code>
<a id="id1393" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables or disables mail proxying.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_bind</code>
<a id="id1394" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies which address should be used for outgoing connections to a proxied server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_buffer</code>
<a id="id1395" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Allows setting the size of the buffer used for the mail proxy connection beyond the default of one page.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">4k|8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_buffer_size</code>
<a id="id1396" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The size of the buffer used for the first part of the response from the upstream server, in which the response headers are found.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">4k|8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_buffering</code>
<a id="id1397" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates buffering of proxied content; when switched off, responses are sent synchronously to the client as soon as they are received.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_buffers</code>
<a id="id1398" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The number and size of buffers used for responses from upstream servers.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">8 4k|8k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_busy_buffers_size</code>
<a id="id1399" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The total size of buffer space allocated to sending the response to the client while still being read from the upstream server. This is typically set to two <code class="literal">proxy_buffers</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">8k|16k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache</code>
<a id="id1400" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines a shared memory zone to be used for caching.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache_bypass</code>
<a id="id1401" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>One or more string variables, which when non-empty or non-zero, will cause the response to be taken from the upstream server instead of the cache.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache_key</code>
<a id="id1402" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A string used as the key for storing and retrieving cache values.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">$scheme$proxy_host$request_uri</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache_lock</code>
<a id="id1403" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enabling this directive will prevent multiple requests from making an entry into the same cache key.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache_lock_timeout</code>
<a id="id1404" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The length of time a request will wait for an entry to appear in the cache or for the <code class="literal">proxy_cache_lock</code> directive to be released.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">5s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache_min_uses</code>
<a id="id1405" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The number of requests for a certain key needed before a response is cached.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache_path</code>
<a id="id1406" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>Proxy module caching directives</em></span> table in the <span class="emphasis"><em>Caching</em></span> section in <a class="link" href="ch05.html" title="Chapter 5. Reverse Proxy Advanced Topics">Chapter 5</a>, <span class="emphasis"><em>Reverse Proxy Advanced Topics</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache_use_stale</code>
<a id="id1407" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The cases under which it is acceptable to serve stale cached data when an error occurs when accessing the upstream server. The <code class="literal">updating</code> parameter indicates the case when fresh data are being loaded.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cache_valid</code>
<a id="id1408" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates the length of time for which a cached response with response code 200, 301, or 302 is valid. If an optional response code is given before the time parameter, that time is only for that response code. The special parameter <code class="literal">any</code> indicates that any response code should be cached for that length of time.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_connect_timeout</code>
<a id="id1409" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum amount of time NGINX will wait for its connection to be accepted when making a request to an upstream server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cookie_domain</code>
<a id="id1410" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Replaces the domain attribute of the <code class="literal">Set-Cookie</code> header from the upstream server; the domain to be replaced can either be a string or a regular expression, or reference a variable.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_cookie_path</code>
<a id="id1411" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Replaces the path attribute of the <code class="literal">Set-Cookie</code> header from the upstream server; the path to be replaced can either be a string or a regular expression, or reference a variable.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_header_hash_bucket_size</code>
<a id="id1412" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The bucket size used to hold proxy header names (one name cannot be longer than the value of this directive).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if</code>
</p>
<p>Default value: <code class="literal">64</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_header_hash_max_size</code>
<a id="id1413" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The total size of headers received from the upstream server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">512</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_hide_header</code>
<a id="id1414" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A list of header fields that should not be passed on to the client.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_http_version</code>
<a id="id1415" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The HTTP protocol version used to communicate with upstream servers (use <code class="literal">1.1</code> for <code class="literal">keepalive</code> connections).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1.0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_ignore_client_abort</code>
<a id="id1416" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>If set to <code class="literal">on</code>, NGINX will not abort the connection to an upstream server if the client aborts the connection.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_ignore_headers</code>
<a id="id1417" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets which headers may be disregarded when processing the response from the upstream server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_intercept_errors</code>
<a id="id1418" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>If enabled, NGINX will display a configured <code class="literal">error_page</code> instead of the response directly from the upstream server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_max_temp_file_size</code>
<a id="id1419" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum size of the overflow file, written when the response doesn't fit into memory buffers.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1024m</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_next_upstream</code>
<a id="id1420" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates the conditions under which the next upstream server will be selected for the response. This won't be used if the client has already been sent something. The conditions are specified using the following parameters:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">error</code>: An error occurred while communicating with the upstream server</li><li class="listitem" style="list-style-type: disc"><code class="literal">timeout</code>: A timeout occurred while communicating with the upstream server</li><li class="listitem" style="list-style-type: disc"><code class="literal">invalid_header</code>: The upstream server returned an empty or otherwise invalid response</li><li class="listitem" style="list-style-type: disc"><code class="literal">http_500</code>: The upstream server responded with a 500 error code</li><li class="listitem" style="list-style-type: disc"><code class="literal">http_503</code>: The upstream server responded with a 503 error code</li><li class="listitem" style="list-style-type: disc"><code class="literal">http_504</code>: The upstream server responded with a 504 error code</li><li class="listitem" style="list-style-type: disc"><code class="literal">http_404</code>: The upstream server responded with a 404 error code</li><li class="listitem" style="list-style-type: disc"><code class="literal">off</code>: Disables passing the request to the next upstream server when an error occurs</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">error timeout</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_no_cache</code>
<a id="id1421" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines the conditions under which the response will not be saved to the cache. The parameters are string variables, which evaluate to something non-empty and non-zero to not cache.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_pass</code>
<a id="id1422" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the upstream server to which the request is passed, in the form of a URL.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">location</code>, <code class="literal">if in location</code>, <code class="literal">limit_except</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_pass_error_message</code>
<a id="id1423" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Useful in situations where the backend authentication process emits a useful error message to the client.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_pass_header</code>
<a id="id1424" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Overrides the disabled headers set in <code class="literal">proxy_hide_header</code>, allowing them to be sent to the client.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_pass_request_body</code>
<a id="id1425" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Prevents sending the body of the request to the upstream server if set to <code class="literal">off</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_pass_request_headers</code>
<a id="id1426" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Prevents sending the headers of the request to the upstream server if set to <code class="literal">off</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_read_timeout</code>
<a id="id1427" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies the length of time that needs to elapse between two successive read operations from an upstream server before the connection is closed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_redirect</code>
<a id="id1428" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Rewrites the <code class="literal">Location</code> and <code class="literal">Refresh</code> headers received from the upstream servers; useful for working around assumptions made by an application framework.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">default</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_send_lowat</code>
<a id="id1429" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>If non-zero, NGINX will try to minimize the number of send operations on outgoing connections to a proxied server. It is ignored in Linux, Solaris, and Windows.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_send_timeout</code>
<a id="id1430" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The length of time that needs to elapse between two successive write operations to an upstream server before the connection is closed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_set_body</code>
<a id="id1431" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The body of a request sent to an upstream server may be altered by setting this directive.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_set_header</code>
<a id="id1432" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Rewrites the contents of the headers sent to an upstream server; may also be used to not send certain headers by setting its value to the empty string.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">Host $proxy_host</code>, <code class="literal">Connection close</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_ssl_session_reuse</code>
<a id="id1433" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets whether or not SSL sessions may be reused when proxying.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_store</code>
<a id="id1434" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables storing responses retrieved from an upstream server as files on disk. The <code class="literal">on</code> parameter will use the <code class="literal">alias</code> or <code class="literal">root</code> directive as the base path under which to store the file. A string may instead be given, to indicate an alternative location to store the files.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_store_access</code>
<a id="id1435" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets file access permissions for the newly-created <code class="literal">proxy_store</code> files.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">user:rw</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_temp_file_write_size</code>
<a id="id1436" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Limits the amount of data buffered to a temporary file at one time, so that NGINX will not be blocked for too long on a single request.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">8k|16k</code> (platform dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_temp_path</code>
<a id="id1437" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A directory where temporary files may be buffered as they are proxied from the upstream server, optionally multilevel deep. If a second, third, or fourth parameter is given, these specify a subdirectory hierarchy with the parameter value as the number of characters in the subdirectory name.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">proxy_temp</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">proxy_timeout</code>
<a id="id1438" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>If a timeout beyond the default of 24 hours is required, this directive can be used.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">24h</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">random_index</code>
<a id="id1439" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates randomly choosing a file to be served to the client when a URI ending with <code class="literal">/</code> is received.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">read_ahead</code>
<a id="id1440" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>If possible, the kernel will preread files up to the <code class="literal">size</code> parameter. Supported on current FreeBSD and Linux (the <code class="literal">size</code> parameter is ignored on Linux).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">real_ip_header</code>
<a id="id1441" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the header whose value is used as the client IP address when <code class="literal">set_real_ip_from</code> matches the connecting IP.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">X-Real-IP</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">real_ip_recursive</code>
<a id="id1442" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Works with <code class="literal">set_real_ip_from</code>, to specify that the last address in a multi-valued <code class="literal">real_ip_header</code> header will be used.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">recursive_error_pages</code>
<a id="id1443" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables doing more than one redirect using the <code class="literal">error_page</code> directive (default is <code class="literal">off</code>).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">referer_hash_bucket_size</code>
<a id="id1444" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The bucket size of the valid referers hash tables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">64</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">referer_hash_max_size</code>
<a id="id1445" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum size of the valid referers hash tables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">2048</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">request_pool_size</code>
<a id="id1446" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Fine tunes per-request memory allocation.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">4k</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">reset_timedout_connection</code>
<a id="id1447" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>With this directive enabled, connections that have been timed out will immediately be reset, freeing all associated memory. The default is to leave the socket in the <code class="literal">FIN_WAIT1</code> state, which will always be the case for the <code class="literal">keepalive</code> connections.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">resolver</code>
<a id="id1448" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Configures one or more name servers to be used to resolve upstream server names into IP addresses. An optional <code class="literal">valid</code> parameter overrides the TTL of the domain name record.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">resolver_timeout</code>
<a id="id1449" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the timeout for name resolution.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">30s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">return</code>
<a id="id1450" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Stops processing and returns the specified code to the client. The non-standard code 444 will close the connection without sending any response headers. If a code additionally has text accompanying it, the text will be placed in the response body. If instead, a URL is given after the code, that URL will be the value of the <code class="literal">Location</code> header. A URL without a code is treated as a code 302.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">rewrite</code>
<a id="id1451" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>Rewrite module directives</em></span> table in the <span class="emphasis"><em>Introducing the rewrite module</em></span> section in <a class="link" href="apb.html" title="Appendix B. Rewrite Rule Guide">Appendix B</a>, <span class="emphasis"><em>Rewrite Rule Guide</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">rewrite_log</code>
<a id="id1452" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates <code class="literal">notice</code> level logging of <code class="literal">rewrites</code> to the <code class="literal">error_log</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">if in server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">root</code>
<a id="id1453" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the path to the document root. Files are found by appending the URI to the value of this directive.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">html</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">satisfy</code>
<a id="id1454" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Allows access if <code class="literal">all</code> or <code class="literal">any</code> of the <code class="literal">access</code> or <code class="literal">auth_basic</code> directives grant access. The default value <code class="literal">all</code> indicates that a user must come from a specific network address and enter the correct password.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">all</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">satisfy_any</code>
<a id="id1455" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This is deprecated. Use the <code class="literal">any</code> parameter of the <code class="literal">satisfy</code> directive.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">secure_link_secret</code>
<a id="id1456" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A salt used to compute the MD5 hash of a URI.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">send_lowat</code>
<a id="id1457" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>If non-zero, NGINX will try to minimize the number of send operations on client sockets. Ignored in Linux, Solaris, and Windows.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">send_timeout</code>
<a id="id1458" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This directive sets a timeout between two successive write operations for a client receiving a response.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">sendfile</code>
<a id="id1459" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enable using <code class="literal">sendfile(2)</code> to directly copy data from one file descriptor to another.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">sendfile_max_chunk</code>
<a id="id1460" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the maximum size of data to copy in one <code class="literal">sendfile(2)</code> call to prevent a worker from seizing.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server</code> (<code class="literal">http</code>)<a id="id1461" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Creates a new configuration context, defining a virtual host.  The <code class="literal">listen</code> directive specifies the IP address(es) and port(s); the <code class="literal">server_name</code> directive lists the <code class="literal">Host</code> header values that this context matches.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server</code> (upstream)<a id="id1462" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Refer to the <span class="emphasis"><em>Upstream modules directives</em></span> table in the <span class="emphasis"><em>The upstream module</em></span> section in <a class="link" href="ch04.html" title="Chapter 4. NGINX as a Reverse Proxy">Chapter 4</a>, <span class="emphasis"><em>NGINX as a Reverse Proxy</em></span>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">upstream</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server</code> (<code class="literal">mail</code>)<a id="id1463" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Creates a new configuration context, defining a mail server. The <code class="literal">listen</code> directive specifies the IP address(es) and port(s); the <code class="literal">server_name</code> directive sets the name of the server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">mail</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server_name</code> (<code class="literal">http</code>)<a id="id1464" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Configures the names that a virtual host may respond to.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">server</code>
</p>
<p>Default value: ""</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server_name</code> (<code class="literal">mail</code>)<a id="id1465" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the name of the server, which is used in the following ways:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The POP3/SMTP server greeting</li><li class="listitem" style="list-style-type: disc">The salt for SASL CRAM-MD5 authentication</li><li class="listitem" style="list-style-type: disc">The EHLO name when using <code class="literal">xclient</code> to talk to an SMTP backend</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">hostname</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server_name_in_redirect</code>
<a id="id1466" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates using the first value of the <code class="literal">server_name</code> directive in any redirect issued by NGINX within this context.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server_names_hash_bucket_size</code>
<a id="id1467" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The bucket size used to hold the <code class="literal">server_name</code> hash tables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: <code class="literal">32|64|128</code> (processor dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server_names_hash_max_size</code>
<a id="id1468" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum size of the <code class="literal">server_name</code> hash tables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: <code class="literal">512</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">server_tokens</code>
<a id="id1469" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Disables sending the NGINX version string in error messages and the <code class="literal">Server</code> response header (default value is <code class="literal">on</code>).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">set</code>
<a id="id1470" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets a given variable to a specific value.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">set_real_ip_from</code>
<a id="id1471" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines the connecting address(es) from which the client IP will be extracted from the <code class="literal">real_ip_header</code> directive. The value <code class="literal">unix:</code> means that all connections from UNIX-domain sockets will be treated this way.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">smtp_auth</code>
<a id="id1472" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the supported SASL client authentication mechanism. It can be one or more of <code class="literal">login</code>, <code class="literal">plain</code>, or <code class="literal">cram-md5</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">login</code>, <code class="literal">plain</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">smtp_capabilities</code>
<a id="id1473" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates which SMTP capabilities are supported by the backend server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">so_keepalive</code>
<a id="id1474" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the TCP <code class="literal">keepalive</code> parameter on the socket connection to the proxied server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">source_charset</code>
<a id="id1475" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines the charset of a response. If it is different from the defined charset, a conversion is performed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">split_clients</code>
<a id="id1476" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Creates a context in which variables appropriate to A/B (or split) testing are set. The string specified in the first parameter is hashed using <code class="literal">MurmurHash2</code>. The variable specified in the second parameter is then set to a value based on how the string falls within the range of hash values. The match is specified as either a percentage or <code class="literal">*</code> to place weights on the values.</p>
</td><td style="text-align: left" valign="top">
<p>valid context(s): http</p>
<p>default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssi</code>
<a id="id1477" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables the processing of SSI files.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if in location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssi_min_file_chunk</code>
<a id="id1478" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the minimum size of a file above which it should be sent using <code class="literal">sendfile(2)</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1k</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssi_silent_errors</code>
<a id="id1479" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Suppresses the error message normally output when an error occurs during SSI processing.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssi_types</code>
<a id="id1480" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Lists the MIME types of a response in addition to <code class="literal">text/html</code> in which SSI commands are processed. It may be <code class="literal">*</code> to enable all MIME types.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">text/html</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssi_value_length</code>
<a id="id1481" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the maximum length of values for parameters used in Server Side Includes.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">256</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl</code> (<code class="literal">http</code>)<a id="id1482" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables the HTTPS protocol for this virtual server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl</code> (<code class="literal">mail</code>)<a id="id1483" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates if this context should support SSL/TLS transactions.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_certificate</code> (<code class="literal">http</code>)<a id="id1484" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to the file containing the SSL certificate for this <code class="literal">server_name</code> in PEM format. If intermediate certificates are required, they need to be added in order after the certificate corresponding to the <code class="literal">server_name</code> directive, up to the root, if necessary.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_certificate</code> (<code class="literal">mail</code>)<a id="id1485" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to the PEM-encoded SSL certificate(s) for this virtual server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_certificate_key</code> (<code class="literal">http</code>)<a id="id1486" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to the file containing the SSL certificate's secret key.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_certificate_key</code> (<code class="literal">mail</code>)<a id="id1487" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to the PEM-encoded SSL secret key for this virtual server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_ciphers</code>
<a id="id1488" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The ciphers that should be supported in this virtual server context (OpenSSL format).</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">HIGH:!aNULL:!MD5</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_client_certificate</code>
<a id="id1489" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to the file containing the PEM-encoded public CA certificate(s) of the certificate authorities used to sign client certificates.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_crl</code>
<a id="id1490" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to the file containing the PEM-encoded <span class="strong"><strong>certificate revocation list</strong></span> (<span class="strong"><strong>CRL</strong></span>) for the client certificates that are to be verified.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_dhparam</code>
<a id="id1491" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to a file containing DH parameters, used for EDH ciphers.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_engine</code>
<a id="id1492" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies a hardware SSL accelerator.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_prefer_server_ciphers</code> (<code class="literal">http</code>)<a id="id1493" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates that the server ciphers are to be preferred over the client's ciphers when using the SSLv3 and TLS protocols.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_prefer_server_ciphers</code> (<code class="literal">mail</code>)<a id="id1494" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates that SSLv3 and TLSv1 server ciphers are preferred over the client's ciphers.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_protocols</code> (<code class="literal">http</code>)<a id="id1495" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates which SSL protocols should be enabled.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_protocols</code> (<code class="literal">mail</code>)<a id="id1496" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates which SSL protocols should be enabled.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_session_cache</code> (<code class="literal">http</code>)<a id="id1497" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the type and size of the SSL cache to store session parameters. A cache can be one of the following types:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">off</code>: Clients are told that sessions won't be reused at all</li><li class="listitem" style="list-style-type: disc"><code class="literal">none</code>: Clients are told that sessions are reused, but they aren't really</li><li class="listitem" style="list-style-type: disc"><code class="literal">builtin</code>: An OpenSSL builtin cache used by only one worker with a size specified in sessions</li><li class="listitem" style="list-style-type: disc"><code class="literal">shared</code>: A cache shared by all worker processes, given a name and session size specified in megabytes</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">none</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_session_cache</code> (<code class="literal">mail</code>)<a id="id1498" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the type and size of the SSL cache to store session parameters. A cache can be one of the following types:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">off</code>: Clients are told that sessions won't be reused at all</li><li class="listitem" style="list-style-type: disc"><code class="literal">none</code>: Clients are told that sessions are reused, but they aren't really</li><li class="listitem" style="list-style-type: disc"><code class="literal">builtin</code>: An OpenSSL builtin cache used by only one worker with a size specified in sessions</li><li class="listitem" style="list-style-type: disc"><code class="literal">shared</code>: A cache shared by all worker processes, given a name and session size specified in megabytes</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">none</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_session_timeout</code> (<code class="literal">http</code>)<a id="id1499" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>How long the client can use the same SSL parameters, provided they are stored in the cache.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">5m</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_session_timeout</code> (<code class="literal">mail</code>)<a id="id1500" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>How long the client can use the same SSL parameters, provided they are stored in the cache.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">5m</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_stapling</code>
<a id="id1501" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables stapling of OCSP responses. The CA certificate of the server's issuer should be contained in the file specified by <code class="literal">ssl_trusted_certificate</code>. A resolver should also be specified to be able to resolve the OCSP responder hostname.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_stapling_file</code>
<a id="id1502" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to a DER-formatted file containing the stapled OCSP response.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_stapling_responder</code>
<a id="id1503" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>A URL specifying the OCSP responder. Only URLs beginning with <code class="literal">http://</code> are currently supported.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_stapling_verify</code>
<a id="id1504" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables verification of OCSP responses.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_trusted_certificate</code>
<a id="id1505" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to a file containing PEM-formatted SSL certificates of the CA's signing client certificates and OCSP responses when <code class="literal">ssl_stapling</code> is enabled.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_verify_client</code>
<a id="id1506" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables verification of SSL client certificates. If the <code class="literal">optional</code> parameter is specified, a client certificate will be requested and if present, verified. If the <code class="literal">optional_no_ca</code> parameter is specified, a client certificate is requested, but doesn't require it to be signed by a trusted CA certificate.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ssl_verify_depth</code>
<a id="id1507" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets how many signers will be checked before declaring the certificate invalid.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">starttls</code>
<a id="id1508" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Indicates whether or not STLS/STARTTLS are supported and/or required for further communication with this server.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">sub_filter</code>
<a id="id1509" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the string to be matched without regards to case and the string to be substituted into that match. The substitution string may contain variables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">sub_filter_once</code>
<a id="id1510" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Setting to <code class="literal">off</code> will cause the match in <code class="literal">sub_filter</code> to be made as many times as the string is found.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">sub_filter_types</code>
<a id="id1511" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Lists the MIME types of a response in addition to <code class="literal">text/html</code> in which a substitution will be made. It may be <code class="literal">*</code> to enable all MIME types.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">text/html</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">tcp_nodelay</code>
<a id="id1512" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables or disables the <code class="literal">TCP_NODELAY</code> option for the <code class="literal">keep-alive</code> connections.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">tcp_nopush</code>
<a id="id1513" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Relevant only when the <code class="literal">sendfile</code> directive is used. Enables NGINX to attempt to send response headers in one packet, as well as sending a file in full packets.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">timeout</code>
<a id="id1514" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The amount of time NGINX will wait before a connection to the backend server is finalized.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">60s</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">timer_resolution</code>
<a id="id1515" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Specifies how often <code class="literal">gettimeofday()</code> is called instead of each time a kernel event is received.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">try_files</code>
<a id="id1516" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Tests the existence of files given as parameters. If none of the previous files are found, the last entry is used as a fallback, so ensure that this path or named <code class="literal">location</code> exists.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">types</code>
<a id="id1517" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets up a map of MIME types to filename extensions. NGINX ships with a <code class="literal">conf/mime.types</code> file that contains most MIME type mappings. Using <code class="literal">include</code> to load this file should be sufficient for most purposes.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value:</p>
<p>
</p><div class="informalexample"><pre class="programlisting">    text/html  html;
    image/gif  gif;
    image/jpeg jpg</pre></div><p>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">types_hash_bucket_size</code>
<a id="id1518" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The bucket size used to hold the <code class="literal">types</code> hash tables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">32|64|128</code> (processor dependent)</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">types_hash_max_size</code>
<a id="id1519" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum size of the <code class="literal">types</code> hash tables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">1024</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">underscores_in_headers</code>
<a id="id1520" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Enables the use of the underscore character in client request headers. If left at the default value <code class="literal">off</code>, evaluation of such headers is subject to the value of the <code class="literal">ignore_invalid_headers</code> directive.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">uninitialized_variable_warn</code>
<a id="id1521" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Controls whether or not warnings about uninitialized variables are logged.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>, <code class="literal">if</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">upstream</code>
<a id="id1522" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets up a named context in which a group of servers is defined.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">use</code>
<a id="id1523" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The <code class="literal">use</code> directive indicates which connection processing method should be used. This will overwrite the compiled-in default, and must be contained in an <code class="literal">events</code> context, if used. It is especially useful when the compiled-in default is found to produce errors over time.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">events</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">user</code>
<a id="id1524" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The <code class="literal">user</code> and <code class="literal">group</code> under which the worker processes will run is configured using this parameter. If the <code class="literal">group</code> is omitted, a group name equal to that of the <code class="literal">user</code> will be used.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">nobody nobody</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">userid</code>
<a id="id1525" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Activates the module according to the following parameters:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">on</code>: Sets Version 2 cookies and logs those received</li><li class="listitem" style="list-style-type: disc"><code class="literal">v1</code>: Sets Version 1 cookies and logs those received</li><li class="listitem" style="list-style-type: disc"><code class="literal">log</code>: Disables setting of cookies, but enables logging them</li><li class="listitem" style="list-style-type: disc"><code class="literal">off</code>: Disables both the setting of cookies and the logging of them</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">userid_domain</code>
<a id="id1526" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Configures a domain to be set in the cookie.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">none</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">userid_expires</code>
<a id="id1527" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the age of the cookie. If the keyword <code class="literal">max</code> is used, this translates to <code class="literal">31 Dec 2037 23:55:55 GMT</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">userid_mark</code>
<a id="id1528" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the first character of the tail of the <code class="literal">userid_name</code> cookie's base64 representation.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">off</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">userid_name</code>
<a id="id1529" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the name of the cookie.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">uid</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">userid_p3p</code>
<a id="id1530" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Configures the P3P header.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">userid_path</code>
<a id="id1531" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines the path set in the cookie.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">/</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">userid_service</code>
<a id="id1532" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Identity of the service that set the cookie. For example, the default value for Version 2 cookies is the IP address of the server that set the cookie.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: IP address of the server</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">valid_referers</code>
<a id="id1533" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Defines which values of the <code class="literal">Referer</code> header will cause the <code class="literal">$invalid_referer</code> variable to be set to an empty string. Otherwise it will be set to <code class="literal">1</code>. The parameters can be one or more of the following:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">none</code>: There is no <code class="literal">Referer</code> header</li><li class="listitem" style="list-style-type: disc"><code class="literal">blocked</code>: The <code class="literal">Referer</code> header is present, but empty or lacking a scheme</li><li class="listitem" style="list-style-type: disc"><code class="literal">server_names</code>: The <code class="literal">Referer</code> value is one of the <code class="literal">server_names</code></li><li class="listitem" style="list-style-type: disc">arbitrary string: the value of the <code class="literal">Referer</code> header is a server name with or without URI prefixes and <code class="literal">*</code> at the beginning or end</li><li class="listitem" style="list-style-type: disc">regular expression: matches the text after the scheme in the <code class="literal">Referer</code> header's value</li></ul></div>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">variables_hash_bucket_size</code>
<a id="id1534" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The bucket size used to hold the remaining variables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: <code class="literal">64</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">variables_hash_max_size</code>
<a id="id1535" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The maximum size of the hash that holds the remaining variables.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">http</code>
</p>
<p>Default value: <code class="literal">512</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">worker_aio_requests</code>
<a id="id1536" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The number of open asynchronous I/O operations for a single worker process when using <code class="literal">aio</code> with <code class="literal">epoll</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">events</code>
</p>
<p>Default value: <code class="literal">32</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">worker_connections</code>
<a id="id1537" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This directive configures the maximum number of simultaneous connections that a worker process may have open. This includes, but is not limited to, client connections and connections to upstream servers.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">events</code>
</p>
<p>Default value: <code class="literal">512</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">worker_cpu_affinity</code>
<a id="id1538" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Binds worker processes to CPU sets, as specified by a bitmask. Only available on FreeBSD and Linux.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">worker_priority</code>
<a id="id1539" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the scheduling priority for worker processes. Works like the nice command, with a negative number being a higher priority.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">0</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">worker_processes</code>
<a id="id1540" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>This is the number of worker processes that will be started. These will handle all connections made by clients. Choosing the right number is a complex process, a good rule of thumb is to set this equal to the number of CPU cores.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: <code class="literal">1</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">worker_rlimit_core</code>
<a id="id1541" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Changes the limit on core file size of a running process.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">worker_rlimit_nofile</code>
<a id="id1542" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Changes the limit on the number of open files of a running process.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">worker_rlimit_sigpending</code>
<a id="id1543" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Changes the limit on the number of pending signals of a running process when using the <code class="literal">rtsig</code> connection processing method.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">working_directory</code>
<a id="id1544" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The current working directory for worker processes. It should be writable by the worker to produce core files.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">main</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">xclient</code>
<a id="id1545" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The SMTP protocol allows checking based on <code class="literal">IP/HELO/LOGIN</code> parameters, which are passed via the <code class="literal">XCLIENT</code> command. This directive enables NGINX to communicate this information.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">mail</code>, <code class="literal">server</code>
</p>
<p>Default value: <code class="literal">on</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">xml_entities</code>
<a id="id1546" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to the DTD that declares the character entities referenced in the XML to be processed.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">xslt_param</code>
<a id="id1547" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Parameters passed to the stylesheets, whose values are XPath expressions.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">xslt_string_param</code>
<a id="id1548" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Parameters passed to the stylesheets, whose values are strings.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">xslt_stylesheet</code>
<a id="id1549" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>The path to an XSLT stylesheet used to transform an XML response. Parameters may be passed as a series of key/value pairs.</p>
</td><td style="text-align: left" valign="top">
<p>Valid context: <code class="literal">location</code>
</p>
<p>Default value: -</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">xslt_types</code>
<a id="id1550" class="indexterm"/>
</p>
</td><td style="text-align: left" valign="top">
<p>Lists the MIME types of a response in addition to <code class="literal">text/xml</code>, in which a substitution will be made. It may be <code class="literal">*</code> to enable all MIME types. If the transformation results in an HTML response, the MIME type will be changed to <code class="literal">text/html</code>.</p>
</td><td style="text-align: left" valign="top">
<p>Valid contexts: <code class="literal">http</code>, <code class="literal">server</code>, <code class="literal">location</code>
</p>
<p>Default value: <code class="literal">text/xml</code>
</p>
</td></tr></tbody></table></div></div></div></body></html>