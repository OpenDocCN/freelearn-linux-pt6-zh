<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Installing Nginx Core and Modules from Source"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Installing Nginx Core and Modules from Source</h1></div></div></div><p>This chapter serves as a quick reference to downloading and installing Nginx using binary and source distribution and compilation options related to different modules and add-ons.</p><p>If you are reading this book, you are already familiar with Nginx (pronounced as engine-x). Therefore, we will not spend too much time discussing the basics. However, you will need a working copy of Nginx before proceeding to advanced topics.</p><div class="section" title="Installing binary distribution"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Installing binary distribution</h1></div></div></div><p>Most UNIX and Linux<a id="id0" class="indexterm"/> distributions have Nginx included in their package manager repositories. Use package manager commands on your platform to install it. For example, use <span class="strong"><strong>apt-get</strong></span> on Ubuntu or Debian, and <span class="strong"><strong>emerge</strong></span> on Gentoo. For Red Hat, Fedora, or CentOS, see the instructions that follow.</p><p>You can find binary installation instructions for different platforms such as Red Hat and Ubuntu on the Nginx installation wiki at <a class="ulink" href="http://wiki.nginx.org/Install">http://wiki.nginx.org/Install</a>. However, we will briefly describe the process here, quoting from the wiki.</p><div class="section" title="Red Hat, Fedora, and CentOS"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec06"/>Red Hat, Fedora, and CentOS</h2></div></div></div><p>To add the Nginx yum<a id="id1" class="indexterm"/> repository, create a file named <code class="literal">/etc/yum.repos.d/nginx.repo</code> and paste one of<a id="id2" class="indexterm"/> the following<a id="id3" class="indexterm"/> configurations:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>For CentOS</strong></span>:<a id="id4" class="indexterm"/><div class="informalexample"><pre class="programlisting">[nginx]
name=nginx repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=0
enabled=1</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>For RHEL</strong></span>:<div class="informalexample"><pre class="programlisting">[nginx]
name=nginx repo
baseurl=http://nginx.org/packages/rhel/$releasever/$basearch/
gpgcheck=0
enabled=1</pre></div></li></ul></div><p>CentOS, RHEL, and Scientific<a id="id5" class="indexterm"/> Linux, each populate the <code class="literal">$releasever</code> variable differently. Therefore, depending on your OS version, replace <code class="literal">$releasever</code> with <code class="literal">5</code> (for 5.x) or <code class="literal">6</code> (for 6.x). Therefore, <code class="literal">baseurl</code> for 6.x would look like <code class="literal">baseurl=http://nginx.org/packages/rhel/6/$basearch/</code>.</p></div><div class="section" title="Official Debian/Ubuntu packages"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Official Debian/Ubuntu packages</h2></div></div></div><p>Append the following lines to the <code class="literal">/etc/apt/sources.list</code> file, and replace the codename with the<a id="id6" class="indexterm"/> one appropriate for the release that you are using, for example, Ubuntu 13.10 is codenamed <code class="literal">saucy</code>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>For Ubuntu 12.10</strong></span>:<div class="informalexample"><pre class="programlisting">deb http://nginx.org/packages/ubuntu/ saucy nginx
deb-src http://nginx.org/packages/ubuntu/ saucy nginx</pre></div><p>Please note that when you will run the apt-get update after adding the repository, you will get<a id="id7" class="indexterm"/> a <span class="strong"><strong>GPG</strong></span> error<a id="id8" class="indexterm"/> of not being able to verify keys. If this happens and you find it hard to ignore it, do the following:</p><div class="informalexample"><pre class="programlisting">wget http://nginx.org/packages/keys/nginx_signing.key
cat nginx_signing.key | sudo apt-key add -</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>For Debian 6</strong></span>:<div class="informalexample"><pre class="programlisting">deb http://nginx.org/packages/debian/ squeeze nginx
deb-src http://nginx.org/packages/debian/ squeeze nginx<a id="id9" class="indexterm"/>
</pre></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>For Ubuntu PPA</strong></span>: This PPA is<a id="id10" class="indexterm"/> maintained by volunteers and is not distributed by <a class="ulink" href="http://nginx.org">nginx.org</a>. It has some additional compiled-in modules, and it may be more fitting for your environment. You can get the latest stable version of Nginx from <span class="strong"><strong>Nginx PPA</strong></span><a id="id11" class="indexterm"/> <a id="id12" class="indexterm"/>on Launchpad: You will require root privileges to execute the following commands.<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>For Ubuntu 10.04 and newer</strong></span>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo -s</strong></span>
<span class="strong"><strong>nginx=stable # use nginx=development for latest development version</strong></span>
<span class="strong"><strong>add-apt-repository ppa:nginx/$nginx</strong></span>
<span class="strong"><strong>apt-get update </strong></span>
<span class="strong"><strong>apt-get install nginx</strong></span>
</pre></div><p>If you get an error about add-apt-repository not existing, you will want to install python-software-properties. For other Debian/Ubuntu based distributions, you can try the lucid variant of the PPA that is the most likely to work on older package sets.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo -s</strong></span>
<span class="strong"><strong>nginx=stable # use nginx=development for latest developmentversion</strong></span>
<span class="strong"><strong>echo "deb http://ppa.launchpad.net/nginx/$nginx/ubuntu lucidmain" &gt; /etc/apt/sources.list.d/nginx-$nginx-lucid.list</strong></span>
<span class="strong"><strong>apt-key adv --keyserver keyserver.ubuntu.com --recv-keysC300EE8C</strong></span>
<span class="strong"><strong>apt-get update</strong></span>
<span class="strong"><strong>apt-get install nginx</strong></span>
</pre></div></li></ul></div></li></ul></div></div><div class="section" title="FreeBSD"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>FreeBSD</h2></div></div></div><p>Update the BSD ports tree<a id="id13" class="indexterm"/> using the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong># portsnap fetch update</strong></span>
</pre></div><p>Install the web server using the<a id="id14" class="indexterm"/> following commands:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong># cd /usr/ports/www/nginx</strong></span>
<span class="strong"><strong># make install clean</strong></span>
</pre></div><p>Type the following command to turn the Nginx server on:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>echo 'nginx_enable="YES"' &gt;&gt; /etc/rc.conf</strong></span>
</pre></div><p>To start Nginx, enter:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong># /usr/local/etc/rc.d/nginx start</strong></span>
</pre></div></div><div class="section" title="OpenBSD"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>OpenBSD</h2></div></div></div><p>OpenBSD, as of Version 5.1, includes Nginx as part of the base system. This means Nginx comes pre-installed<a id="id15" class="indexterm"/> along with all the library <a id="id16" class="indexterm"/>dependencies. The version is not always the latest and greatest one. However, this allows you to start migrating Apache applications over to Nginx. In the future, it is expected that the default httpd will be Nginx instead of Apache.</p></div><div class="section" title="Official Win32 binaries"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Official Win32 binaries</h2></div></div></div><p>As of Version 0.8.50 of Nginx, the official Windows binary is now available.</p><p>The Windows version<a id="id17" class="indexterm"/> is provided as binary-only due to the current build process, which uses WineTools at the moment. You will not be <a id="id18" class="indexterm"/>able to compile a Windows version from source. Once you download the Windows ZIP file, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><span class="strong"><strong>Installation</strong></span>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>cd c:\</strong></span>
<span class="strong"><strong>unzip nginx-1.2.3.zip</strong></span>
<span class="strong"><strong>ren nginx-1.2.3 nginx</strong></span>
<span class="strong"><strong>cd nginx</strong></span>
<span class="strong"><strong>start nginx</strong></span>
</pre></div></li><li class="listitem"><span class="strong"><strong>Control</strong></span>:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>nginx -s [ stop | quit | reopen | reload ]</strong></span>
</pre></div></li></ol></div><p>For problems, look in the <code class="literal">c:\nginx\logs\error.log</code> file or in <code class="literal">EventLog</code>.</p></div></div></div>
<div class="section" title="Installing source distribution"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Installing source distribution</h1></div></div></div><p>Nginx binary packages<a id="id19" class="indexterm"/> are outdated and usually have an older version. If the binaries on your platform are not the latest and up-to-date, you can download the source from <a class="ulink" href="http://nginx.org/en/download.html">http://nginx.org/en/download.html</a>. At the time of writing this chapter, Version 1.4.3 is the stable downloadable version.</p><p>You can also checkout or clone the latest source.</p><p>Read-only Subversion repositories:</p><p>
<code class="literal">code: svn://svn.nginx.org/nginx</code>
</p><p>Read-only Mercurial repositories:</p><p>
<code class="literal">site: http://hg.nginx.org/nginx.org</code>
</p><p>After you have downloaded the source archive, un-tar it and use the following standard build commands to build a standard binary:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>./configure</strong></span>
<span class="strong"><strong>make</strong></span>
<span class="strong"><strong>sudo make install</strong></span>
</pre></div><p>This places the Nginx binary<a id="id20" class="indexterm"/> under <code class="literal">user/local</code>. However, you can override this path through configure options.</p><div class="section" title="Nginx library dependencies"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Nginx library dependencies</h2></div></div></div><p>If you want to build Nginx<a id="id21" class="indexterm"/> from source,<a id="id22" class="indexterm"/> the following libraries are needed at the minimum:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">GCC</li><li class="listitem" style="list-style-type: disc">Autotools (automake and autoconf)</li><li class="listitem" style="list-style-type: disc">PCRE (Perl Compatible Regular Expressions)</li><li class="listitem" style="list-style-type: disc">zlib</li><li class="listitem" style="list-style-type: disc">OpenSSL</li></ul></div><p>You also have the option to disable the dependency on PCRE, zlib, and OpenSSL by disabling the compilation of rewrite, gzip, and ssl modules. These modules are enabled by default.</p></div><div class="section" title="Configuring options"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Configuring options</h2></div></div></div><p>Compile-time options are provided through <code class="literal">configure</code>. You can also find documentation related to the configure-time options online at <a class="ulink" href="http://wiki.nginx.org/InstallOptions">http://wiki.nginx.org/InstallOptions</a>.</p><p>The <code class="literal">configure</code> command defines various aspects of the system including the methods that Nginx is allowed to use for <a id="id23" class="indexterm"/>connection processing. At the end, it creates a makefile. You can use <code class="literal">./configure --help</code> to see a full list of options supported by the <code class="literal">configure</code> command. </p><p>The following section is extracted from the Nginx online wiki.</p><div class="section" title="Files and permissions"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>Files and permissions</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">--prefix=path</code>: It is set to<a id="id24" class="indexterm"/> the <code class="literal">/usr/local/nginx</code> directory<a id="id25" class="indexterm"/> by default. The path specified here is the root folder for keeping the server files. This includes the executable files, server log files, configuration files, and html documentation.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--sbin-path=path</code>: The default <a id="id26" class="indexterm"/>Nginx executable name is <code class="literal">/sbin/nginx</code>. You can change the name using this configure option.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--conf-path=path</code>: The default for<a id="id27" class="indexterm"/> this option is <code class="literal">prefix/conf/nginx.conf</code>. This is the default path for the Nginx configuration file. This file, as you will learn later, is used to configure everything about the Nginx server. The path also contains a number of other configuration files such as a sample <code class="literal">fastcgi</code> configuration file and character-set maps. You can always change this path later on in the configuration file.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--pid-path=path</code>: This<a id="id28" class="indexterm"/> option allows you to change the name of the pid file. The pid files are used by various utilities (including start/stop scripts) to determine if the server is running. Normally, it is a plain text file with the server process ID in it. By default, the file is named <code class="literal">prefix/logs/nginx.pid</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--error-log-path=path</code>: This option allows you to specify the location of the error log. By default, the file is named <code class="literal">prefix/logs/error.log</code>. You can set this value to <code class="literal">stderr</code>. It will <a id="id29" class="indexterm"/>redirect all the error messages to the standard error on your system. Normally, this will be your console or the screen.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--http-log-path=path</code>: This<a id="id30" class="indexterm"/> sets the name of the log file where all HTTP requests are logged. By default, the file is named <code class="literal">prefix/logs/access.log</code>. Like other options, this can be changed anytime by providing the <code class="literal">access_log</code> directive in the configuration file.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--user=USER</code>: This sets<a id="id31" class="indexterm"/> the username that will be used to run the Nginx worker processes. You should make sure that this is an unprivileged or non-root user. The default user name is <code class="literal">nobody</code>. You can change it later through the <code class="literal">user</code> directive in the configuration file.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--group=name</code>: This <a id="id32" class="indexterm"/>sets the name of the group used to run the worker processes. The default group name is <code class="literal">nobody</code>. You can change this through the <code class="literal">user</code> directive in the configuration file.</li></ul></div></div><div class="section" title="The Event loop"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>The Event loop</h3></div></div></div><p>One of the reasons for Nginx being so fast and stable is its ability to use event-based functions. Input/Output. The<a id="id33" class="indexterm"/> event-based coding ensures maximum <a id="id34" class="indexterm"/>performance within a single core by allowing it to be non-blocking. However, event-based code needs the underlying platform support such as <code class="literal">kqueue</code> (FreeBSD, NetBSD, OpenBSD, and OSX), <code class="literal">epoll</code> (Linux), and <code class="literal">/dev/poll</code> (Solaris, HPUX).In cases where these methods are not available, Nginx can work with more traditional <code class="literal">select()</code> and <code class="literal">poll()</code> methods as well. The following <a id="id35" class="indexterm"/>options affect this behavior:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">--with-select_module</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">--without-select_module</code></li></ul></div><p>These enable or disable building of a module that allows the server to work with the <code class="literal">select()</code> method.<a id="id36" class="indexterm"/> This module<a id="id37" class="indexterm"/> is built automatically if the platform does not appear to support more appropriate methods such as <code class="literal">kqueue</code>, <code class="literal">epoll</code>, <code class="literal">rtsig</code>, or <code class="literal">/dev/poll</code>.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">--with-poll_module</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">--without-poll_module</code></li></ul></div><p>These enable or disable the building of a module that allows the server to work with the <code class="literal">poll()</code> method. This module is built automatically if the platform does not appear to support more appropriate methods such as <code class="literal">kqueue</code>, <code class="literal">epoll</code>, <code class="literal">rtsig</code>, or <code class="literal">/dev/poll</code>.</p></div><div class="section" title="Optional modules"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec03"/>Optional modules</h3></div></div></div><p>The optional modules are as <a id="id38" class="indexterm"/>follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">--without-http_gzip_module</code>: This option<a id="id39" class="indexterm"/> allows you to disable over-the-wire compression. This can be quite useful if you<a id="id40" class="indexterm"/> are sending or receiving large text documents over HTTP. However, if you don't want to build this compression into Nginx binary, or you don't have access to the zlib library that is required to enable this support, you can disable it using this option.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--without-http_rewrite_module</code>: This option allows you to disable the HTTP rewrite module. The HTTP rewrite <a id="id41" class="indexterm"/>module allows you to redirect HTTP requests by modifying URIs that match a<a id="id42" class="indexterm"/> given pattern. You need the PCRE library to enable this module.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--without-http_proxy_module</code>: This<a id="id43" class="indexterm"/> disables <code class="literal">ngx_http_proxy_module</code>. The proxy module allows you to pass the HTTP<a id="id44" class="indexterm"/> request to another server.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--with-http_ssl_module</code>: This enables<a id="id45" class="indexterm"/> the SSL<a id="id46" class="indexterm"/> support in the server. This is not enabled by default and you need OpenSSL in order to build SSL support in the Nginx binary.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--with-pcre=path</code>: If you have<a id="id47" class="indexterm"/> downloaded the PCRE source on your machine, you can provide its path through this parameter. Nginx<a id="id48" class="indexterm"/> will automatically build this library before building the Nginx server. Please make sure that the version of PCRE source is 4.4 or higher.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--with-pcre-jit</code>: This builds the PCRE library with the "just-in-time compilation" support. <a id="id49" class="indexterm"/>This is significantly to improve the pattern matching or rewriting speed by converting the regular expressions into machine code.</li><li class="listitem" style="list-style-type: disc"><code class="literal">--with-zlib=path</code>: If you <a id="id50" class="indexterm"/>have already downloaded the zlib library source, you can provide its path here. Nginx<a id="id51" class="indexterm"/> will build the zlib library before building the server binary. Please make sure that the source version is 1.1.3 or higher.</li></ul></div></div><div class="section" title="Compilation controls"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Compilation controls</h3></div></div></div><p>The compilation controls<a id="id52" class="indexterm"/> are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">--with-cc-opt=parameters</code>: Additional <a id="id53" class="indexterm"/>options for the CFLAGS variable</li><li class="listitem" style="list-style-type: disc"><code class="literal">--with-ld-opt=parameters</code>: Additional parameters for the linker (<code class="literal">LD_LIBRAY_PATH</code>) that you should provide <code class="literal">--with-ld-opt="-L /usr/local/lib</code> when building on FreeBSD</li></ul></div></div><div class="section" title="Example"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec05"/>Example</h3></div></div></div><p>Example of parameters<a id="id54" class="indexterm"/> usage (all of this needs to be typed in one line):</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>   ./configure</strong></span>
<span class="strong"><strong>       --sbin-path=/usr/local/nginx/nginx</strong></span>
<span class="strong"><strong>       --conf-path=/usr/local/nginx/nginx.conf</strong></span>
<span class="strong"><strong>       --pid-path=/usr/local/nginx/nginx.pid</strong></span>
<span class="strong"><strong>       --with-http_ssl_module</strong></span>
<span class="strong"><strong>       --with-pcre=../pcre-4.4</strong></span>
<span class="strong"><strong>       --with-zlib=../zlib-1.1.3</strong></span>
</pre></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>When using the system PCRE library under FreeBSD, the following options should be specified:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">   --with-ld-opt="-L /usr/local/lib" \</li><li class="listitem" style="list-style-type: disc">   --with-cc-opt="-I /usr/local/include"</li></ul></div><p>If the number of files supported by <code class="literal">select()</code> needs to be increased, it can also be specified like this:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">   --with-cc-opt="-D FD_SETSIZE=2048"</li></ul></div></div></div></div><div class="section" title="The Custom module"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec06"/>The Custom module</h3></div></div></div><p>One of the great strengths of Nginx is its modular design. You are able to hook in third-party modules or modules<a id="id55" class="indexterm"/> that you write yourself.</p><p>
<code class="literal">--add-module=path</code> compiles the module located at <code class="literal">path</code> into Nginx binary. You can find a list of third-party modules available for Nginx at <a class="ulink" href="http://wiki.nginx.org/3rdPartyModules">http://wiki.nginx.org/3rdPartyModules</a>.</p></div><div class="section" title="Debugging"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec07"/>Debugging</h3></div></div></div><p>
<code class="literal">--with-debug</code><a id="id56" class="indexterm"/> enables <a id="id57" class="indexterm"/>debug logging. This option is already enabled in the Windows binary. Once you compile Nginx with this option, you then have to set the debug level with the <code class="literal">error_log</code> directive in the configuration file, and so on:</p><div class="informalexample"><pre class="programlisting">error_log /path/to/log debug</pre></div><p>In addition to debug logging, you can also attach a debugger to a running version of Nginx. If you intend to do so, enable the debugging symbols in the Nginx binary. Compile with <code class="literal">-g</code> or <code class="literal">-ggdb</code> and recommended compiler optimization level of <code class="literal">O0</code> or <code class="literal">O2</code> (this makes the debugger output easier to understand). The optimization level <code class="literal">O3</code> auto-vectorizes the code and introduces certain other optimizations that make debugging harder. Set the CFLAGS environment variable as follows and run <code class="literal">configure</code>:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>CFLAGS="-g -O0" ./configure ...</strong></span>
</pre></div></div></div><div class="section" title="Installing on other platforms"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Installing on other platforms</h2></div></div></div><p>Let us install Nginx on other platforms <a id="id58" class="indexterm"/>such as the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Gentoo: To get the latest <a id="id59" class="indexterm"/>version of Nginx, add a platform mask in your portage configuration file <code class="literal">/etc/portage/package.keywords</code><div class="informalexample"><pre class="programlisting">www-servers/nginx ~x86 (or ~amd64, etc)</pre></div></li><li class="listitem" style="list-style-type: disc">X86/ 64 builds for Solaris are available on <a class="ulink" href="http://joyent.com/blog/ok-nginx-is-cool">http://joyent.com/blog/ok-nginx-is-cool</a></li><li class="listitem" style="list-style-type: disc">MacOSX: Install Xcode <a id="id60" class="indexterm"/>or Xcode command-line tools to get all the required compilers and libraries</li><li class="listitem" style="list-style-type: disc">A detailed account of how to resolve dependencies like PCRE and others is described in detail for Solaris 10 u5 <a class="ulink" href="http://wiki.nginx.org/Installing_on_Solaris_10_u5">http://wiki.nginx.org/Installing_on_Solaris_10_u5</a></li></ul></div></div><div class="section" title="Verifying your Nginx installation"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Verifying your Nginx installation</h2></div></div></div><p>Following are the steps to<a id="id61" class="indexterm"/> verify that Nginx has been installed:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Once you have successfully compiled and built Nginx, verify it by running the <code class="literal">nginx -V</code> command.<a id="id62" class="indexterm"/></li><li class="listitem">As a root user, run the Nginx server using <code class="literal">prefix/ nginx/sbin/nginx</code>.</li><li class="listitem">You will see the <code class="literal">nginx.pid</code> file once the server is running. The location of this file depends on the option that you provided while running the configure script. On Ubuntu, the default location is <code class="literal">/var/run/nginx.pid</code>.</li></ol></div><p>You can reload the Nginx configuration once you edit the <code class="literal">nginx.conf</code> file.<a id="id63" class="indexterm"/> To do this, send SIGNUP to the main process. The PID of this process is in the <code class="literal">nginx.pid</code> file. The following command will reload the configuration on Ubuntu:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>kill -HUP `cat var/run/nginx.pid</strong></span>
</pre></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Summary</h1></div></div></div><p>In this chapter, we learned how to download binary and source releases of Nginx and install binary releases. We have also learned how to compile and install Nginx from source, how to override installation paths and other properties using configure options, how to compile Nginx with debugging symbols, and finally, how to verify the installation.</p><p>In the next chapter, we will learn more about configuration of core Nginx modules.</p></div></body></html>