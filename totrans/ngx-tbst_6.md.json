["```\n$ sudo apt-get install python-pip\n\n```", "```\n$ cd /usr/ports/devel/py-pip\n$ sudo make install\n\n```", "```\n$ sudo pip install ngxtop\n\n```", "```\n$ ngxtop -f  '$remote_addr - $remote_user [$time_local] \"$request\" '\n\n```", "```\n$ nginx -V 2>&1 | fgrep -c http_stub_status_module\n1\n$\n\n```", "```\nlocation /stub-status {\n    stub_status;\n}\n```", "```\n$ curl -si http://localhost/stub-status | fgrep Content-Type\nContent-Type: text/plain\n$\n\n```", "```\nlocation /stub-status {\nstub_status;  \n    access_log   off;\n    allow   $monitoring_ip;\n    deny    all;\n}\n```", "```\n#! /usr/bin/perl\nuse strict;\nuse warnings;\n\nuse autodie;\nuse LWP::Simple;\nuse WWW::PushBullet;\n\nmy $stub_status_url = 'http://localhost/stub-status';\nmy $threshold = 2000; # requests per minute\n\nmy $data_file = '/var/run/req-rate';\nmy $pb = WWW::PushBullet->new( {\n    apikey => '...PushBullet API key...',\n});\n\nBEGIN {\n    # For LWP inside PushBullet\n    $ENV{PERL_NET_HTTPS_SSL_SOCKET_CLASS} = 'Net::SSL';\n}\n\nopen my $fh, '+<', $data_file;\nmy ($prev, $prev_ts) = split ' ', scalar <$fh>;\n\nmy $reqs;\nif (get($stub_status_url) =~ /(\\d+)\\s+Reading: /s) {\n    $reqs = $1;\n}\n\nmy $now = time();\n\nif ($prev && $reqs) {\n    my $rate = ($reqs - $prev) / ($now - $prev_ts) * 60;\n    if ($rate > $threshold) {\n        $pb->push_note({ title => 'req rate alert', body => \"Requests per minute: $rate\" });\n    }\n}\n\nseek $fh, 0, 0;\ntruncate $fh, 0;\n\nsay $fh \"$reqs $now\";\n```", "```\n$ sudo ln -s /usr/share/munin/plugins/nginx_* /etc/munin/plugins/\n\n```", "```\n$ sudo munin-run nginx_request\nrequest.value 15\n$ sudo munin-run nginx_status\ntotal.value 2\nreading.value 0\nwriting.value 1\nwaiting.value 1\n$\n```", "```\n    [www1.example.com]\n        nginx_status.total.warning 0:10\n        nginx_status.total.critical 0:20\n    ```", "```\nlocation /status {\n    status;\n}\n```", "```\nlocation = /status.html {\n    root /usr/share/nginx/html;\n}\n```", "```\n$ curl http://localhost/status\n{\"version\":6,\"nginx_version\":\"1.9.4\",\"address\":\"127.0.0.1\",\"generation\":4,\"load_timestamp\":1448573854895,\"timestamp\":1448573864361,\"pid\":3691,\"processes\":{\"respawned\":0},\"connections\":{\"accepted\":208,\"dropped\":0,\"active\":1,\"idle\":1},\"ssl\":{\"handshakes\":0,\"handshakes_failed\":0,\"session_reuses\":0},\"requests\":{\"total\":8309,\"current\":1},\"server_zones\":{\"localhost_http\":{\"processing\":1,\"requests\":12,\"responses\":{\"1xx\":0,\"2xx\":11,\"3xx\":0,\"4xx\":0,\"5xx\":0,\"total\":11},\"discarded\":0,\"received\":3305,\"sent\":7756}},\"upstreams\":{},\"caches\":{}}\n$\n\n```", "```\n{\n   \"version\":6,\n   \"nginx_version\":\"1.9.4\",\n   \"address\":\"127.0.0.1\",\n   \"generation\":4,\n   \"load_timestamp\":1448573854895,\n   \"timestamp\":1448573864361,\n   \"pid\":3691,\n   \"processes\":{\n      \"respawned\":0\n   },\n   \"connections\":{\n      \"accepted\":208,\n      \"dropped\":0,\n      \"active\":1,\n      \"idle\":1\n   },\n   \"ssl\":{\n      \"handshakes\":0,\n      \"handshakes_failed\":0,\n      \"session_reuses\":0\n   },\n   \"requests\":{\n      \"total\":8309,\n      \"current\":1\n   },\n   \"server_zones\":{\n      \"localhost_http\":{\n         \"processing\":1,\n         \"requests\":12,\n         \"responses\":{\n            \"1xx\":0,\n            \"2xx\":11,\n            \"3xx\":0,\n            \"4xx\":0,\n            \"5xx\":0,\n            \"total\":11\n         },\n         \"discarded\":0,\n         \"received\":3305,\n         \"sent\":7756\n      }\n   },\n   \"upstreams\":{ },\n   \"caches\":{ }\n}\n```", "```\n location /stat {\n       content_by_lua_file 'show_stat.lua';\n    }\n\n    location /html {\n      log_by_lua_file 'collect_stats.lua';\n    }\n```"]